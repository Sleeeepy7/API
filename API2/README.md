# Тестове задание : API для сбора статистики

## Задача тестового проекта
Задачей учебного проекта являлось создание API для сбора статистики.

## Описание проекта
Нужно разработать микросервис для счетчиков статистики. Сервис должен уметь взаимодействовать с клиентом при помощи REST API или JSON RPC запросов. Также нужно реализовать валидацию входных данных.

## API методы:
- Метод сохранения статистики
- Метод показа статистики
- Метод сброса статистики

## Метод сохранения статистики.
Принимает на вход: 
- **event_date** - дата события
- **views** - количество показов
- **clicks** - количество кликов
- **cost** - стоимость кликов (в рублях с точностью до копеек)

Поля **views**, **clicks** и **cost** - опциональные.
Статистика агрегируется по дате.

## Метод показа статистики
Принимает на вход:
- **from** - дата начала периода (включительно)
- **to** - дата окончания периода (включительно)

Отвечает статистикой, отсортированной по дате. В ответе должны быть поля:
- **event_date** - дата события
- **views** - количество показов
- **clicks** - количество кликов
- **cost** - стоимость кликов
- **cpc** = cost/clicks (средняя стоимость клика)
- **cpm** = cost/views * 1000 (средняя стоимость 1000 показов)
 
## Метод сброса статистики
Удаляет всю сохраненную статистику. 

Доступные эндпоинты:

`/api/v2/service/` - GET: получение cписка записей(обычная сортировка по начальной дате, но можно задать свою). Можно сортировать по любому полю, POST: добавление записи,DELETE: удаляет все записи.  
`/api/v2/service/{id}/` - GET: получение записи, PUT: обновление записи, PATCH: частичное обновление записи, DELETE: удаление записи;  



## Как развернуть
1. Склонируйте репозиторий: https://github.com/Sleeeepy7/API
2. С помощью [инструкции](https://python-scripts.com/virtualenv) создайте 
и активируйте виртуальное окружение.
3. Установите зависимости: ```pip install -r requirements.txt```.
4. Примените миграции: ```python manage.py migrate```.
5. Запустите сервер: ```python manage.py runserver```, и приступайте к работе с API!

## Как работать с API
Для работы с API подходит postman
